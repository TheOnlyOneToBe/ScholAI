
{# Flash Messages Handler #}
<script>
    document.addEventListener('DOMContentLoaded', function() {
    $('.flash-message').each(function() {
        const type = $(this).data('type');
        const message = $(this).text().trim();
        let icon, color;

        switch(type) {
            case 'success':
                icon = 'success';
                color = '#48bb78'; // Green
                break;
            case 'error':
                icon = 'error';
                color = '#f56565'; // Red
                break;
            case 'warning':
                icon = 'warning';
                color = '#ed8936'; // Orange
                break;
            case 'info':
                icon = 'info';
                color = '#4299e1'; // Blue
                break;
            default:
                icon = 'info';
                color = '#4299e1'; // Blue
        }

        const Toast = Swal.mixin({
            toast: true,
            position: 'top-end',
            showConfirmButton: false,
            timer: 3000,
            timerProgressBar: true,
            didOpen: (toast) => {
                toast.addEventListener('mouseenter', Swal.stopTimer)
                toast.addEventListener('mouseleave', Swal.resumeTimer)
            }
        });

        Toast.fire({
            icon: icon,
            title: message,
            background: '#fff',
            iconColor: color,
        });
    });
});
</script>